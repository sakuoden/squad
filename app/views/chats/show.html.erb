<!-- ユーザーマイページ左側の箱 -->
<div class="users_mypage_box">



	<!-- ユーザーマイページ上側の部分 -->
	<div class="teams_show_left_box_image_position">

<div class="users_mypage_left_box_name">
			<% case @team.place %>
				<% when "1" %>
				<div class="teams_show_place_icon">北海道</div>
				<% when "2" %>
				<div class="teams_show_place_icon">青森県</div>
				<% when "3" %>
				<div class="teams_show_place_icon">岩手県</div>
				<% when "4" %>
				<div class="teams_show_place_icon">宮城県</div>
				<% when "5" %>
				<div class="teams_show_place_icon">秋田県</div>
				<% when "6" %>
				<div class="teams_show_place_icon">山形県</div>
				<% when "7" %>
				<div class="teams_show_place_icon">福島県</div>
				<% when "8" %>
				<div class="teams_show_place_icon">茨城県</div>
				<% when "9" %>
				<div class="teams_show_place_icon">栃木県</div>
				<% when "10" %>
				<div class="teams_show_place_icon">群馬県</div>
				<% when "11" %>
				<div class="teams_show_place_icon">埼玉県</div>
				<% when "12" %>
				<div class="teams_show_place_icon">千葉県</div>
				<% when "13" %>
				<div class="teams_show_place_icon">東京都</div>
				<% when "14" %>
				<div class="teams_show_place_icon">神奈川県</div>
				<% when "15" %>
				<div class="teams_show_place_icon">新潟県</div>
				<% when "16" %>
				<div class="teams_show_place_icon">富山県</div>
				<% when "17" %>
				<div class="teams_show_place_icon">石川県</div>
				<% when "18" %>
				<div class="teams_show_place_icon">福井県</div>
				<% when "19" %>
				<div class="teams_show_place_icon">山梨県</div>
				<% when "20" %>
				<div class="teams_show_place_icon">長野県</div>
				<% when "21" %>
				<div class="teams_show_place_icon">岐阜県</div>
				<% when "22" %>
				<div class="teams_show_place_icon">静岡県</div>
				<% when "23" %>
				<div class="teams_show_place_icon">愛知県</div>
				<% when "24" %>
				<div class="teams_show_place_icon">三重県</div>
				<% when "25" %>
				<div class="teams_show_place_icon">滋賀県</div>
				<% when "26" %>
				<div class="teams_show_place_icon">京都府</div>
				<% when "27" %>
				<div class="teams_show_place_icon">大阪府</div>
				<% when "28" %>
				<div class="teams_show_place_icon">兵庫県</div>
				<% when "29" %>
				<div class="teams_show_place_icon">奈良県</div>
				<% when "30" %>
				<div class="teams_show_place_icon">和歌山県</div>
				<% when "31" %>
				<div class="teams_show_place_icon">鳥取県</div>
				<% when "32" %>
				<div class="teams_show_place_icon">島根県</div>
				<% when "33" %>
				<div class="teams_show_place_icon">岡山県</div>
				<% when "34" %>
				<div class="teams_show_place_icon">広島県</div>
				<% when "35" %>
				<div class="teams_show_place_icon">山口県</div>
				<% when "36" %>
				<div class="teams_show_place_icon">徳島県</div>
				<% when "37" %>
				<div class="teams_show_place_icon">香川県</div>
				<% when "38" %>
				<div class="teams_show_place_icon">愛媛県</div>
				<% when "39" %>
				<div class="teams_show_place_icon">高知県</div>
				<% when "40" %>
				<div class="teams_show_place_icon">福岡県</div>
				<% when "41" %>
				<div class="teams_show_place_icon">佐賀県</div>
				<% when "42" %>
				<div class="teams_show_place_icon">長崎県</div>
				<% when "43" %>
				<div class="teams_show_place_icon">熊本県</div>
				<% when "44" %>
				<div class="teams_show_place_icon">大分県</div>
				<% when "45" %>
				<div class="teams_show_place_icon">宮崎県</div>
				<% when "46" %>
				<div class="teams_show_place_icon">鹿児島県</div>
				<% when "47" %>
				<div class="teams_show_place_icon">沖縄県</div>
			<% end %>
			<%= @team.team_name %>
		</div>

		<%= attachment_image_tag @team, :team_image, :fill, 200, 200, fallback: "/images/no_image.jpg", class: "teams_show_left_box_image" %>

	</div>
	<!-- ユーザーマイページ上側の部分fin -->



	<!-- ユーザーマイページのフォロー、チーム招待の行 -->
	<div class="teams_show_users_follow_invite_row">

		<span id="teams_show_users_follow_position">
			<%= render partial:'follows/follow', locals: {team: @team} %>
		</span>

		<%= link_to "/teams/#{@team.id}/member/new", class:"link no-barba" do %>
			<div class="teams_show_users_invite_btn">
				招待
			</div>
		<% end %>

	</div>
	<!-- ユーザーマイページのフォロー、チーム招待の行fin -->



	<!-- ユーザーマイページのフォロー、所属の位置 -->
	<div class="users_show_follow_belong_position">

		<%= link_to team_path(@team.id), class:"users_show_follow_belong_link" do %>
			<div class="user_show_count_under_line">
				<span class="user_show_follow_belong_count"><%= @team.posts.count %></span><span> post</span>
			</div>
		<% end %>


		<%= link_to "/teams/#{@team.id}/member", class:"users_show_follow_belong_link" do %>
		<div class="user_show_count_under_line">
			<span class="user_show_follow_belong_count"><%= @team.members.count %></span><span> member</span>
		</div>
		<% end %>


		<%= link_to chat_path(@team.id), class:"users_show_follow_belong_link" do %>
		<div class="user_show_count_under_line select_action_under_line">
			<span class="user_show_follow_belong_count"><%= "#{@team.chats.count}" %></span><span> talk</span>
		</div>
		<% end %>

	</div>
	<!-- ユーザーマイページのフォロー、所属の位置fin -->



	<!-- pjaxでの切り替えられる箱 -->
	<main id="barba-wrapper">
	<div class="barba-container">

		<div class="users_show_main_content_box">



		<%= form_for @chat do |f| %>
		<!-- チーム詳細画面の右側の箱 -->
		<div class="teams_show_box_right_chat_box">

			<div class="teams_show_box_right_chat_smallbox">

				<!-- チーム詳細画面の右側のトーク内容が入る箱 -->
				<div class="teams_show_box_right_chat_smallbox_chat_screen">
					<% @team.chats.reverse.each do |chat| %>
					<% if chat.user.id == current_user.id %>

						<div class="teams_show_box_right_chat_smallbox_chat_row_current_user">

							<div class="teams_show_box_right_chat_smallbox_chat_ballon_current_user">
								<%= chat.chat_comment %>
							</div>


							<%= link_to user_path(chat.user.id), class:"link no-barba" do %>

								<%= attachment_image_tag chat.user, :image, :fill, 50, 50, fallback: "/images/no_image.jpg", class: "teams_show_box_right_chat_smallbox_image" %>

							<% end %>
							<!-- link_toのend -->


						</div>


					<% else %>
						<div class="teams_show_box_right_chat_smallbox_chat_row">

							<%= link_to user_path(chat.user.id), class:"link no-barba" do %>

									<%= attachment_image_tag chat.user, :image, :fill, 50, 50, fallback: "/images/no_image.jpg", class: "teams_show_box_right_chat_smallbox_image" %>

							<% end %>
							<!-- link_toのend -->

							<div class="teams_show_box_right_chat_smallbox_chat_ballon">
								<%= chat.chat_comment %>
							</div>

						</div>

					<% end %>
					<!-- if chat.userのend -->
					<% end %>
					<!-- @teams.chats.each の end -->
				</div>
				<!-- チーム詳細画面の右側のトーク内容が入る箱fin -->

				<div class="teams_show_box_right_chat_smallbox_border"></div>

				<div class="teams_show_box_right_chat_smallbox_chat_form_position">
					<%= f.text_area :chat_comment, class:"teams_show_box_right_chat_smallbox_chat_form" %>
				</div>

				<div class="teams_show_box_right_chat_smallbox_chat_form_row">
					<%= f.hidden_field :team, :value => @team.id %>
					<%= button_tag type:"submit", class:"teams_show_box_right_chat_btn" do %>
						<i class="fab fa-telegram-plane"></i>
					<% end %>
				</div>



			</div>

		</div>
		<!-- チーム詳細画面の右側の箱fin -->
		<% end %>



		</div>
	</main>
	</div>
	<!-- pjaxでの切り替えられる箱fin -->












</div>
<!-- ユーザーマイページ左側の箱fin -->


<script>
	$(document).ready(function(){



		Barba.Pjax.start();

		var FadeTransition = Barba.BaseTransition.extend({
	 		start: function() {

		    Promise
	    	 .all([this.newContainerLoading, this.fadeOut()])
	     	 .then(this.fadeIn.bind(this));
	  		},

		fadeOut: function() {
	    	return $(this.oldContainer).animate({ opacity: 0 }).promise();
	  	},

		fadeIn: function() {

	    	var _this = this;
	    	var $el = $(this.newContainer);

		    $(this.oldContainer).hide();

			$el.css({
		  		visibility : 'visible',
		  		opacity : 0
			});

		    $el.animate({ opacity: 1 }, 400, function() {
		      _this.done();
		    });

			  }

			});

		Barba.Pjax.getTransition = function() {
	  		return FadeTransition;
		};

		$('.user_show_count_under_line').click(function(){
			$('.user_show_count_under_line').removeClass('select_action_under_line');
			$(this).addClass('select_action_under_line');
		});


	});
</script>







